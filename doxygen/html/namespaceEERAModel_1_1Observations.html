<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>COVID EERA Model: EERAModel::Observations Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">COVID EERA Model
   &#160;<span id="projectnumber">0.0.0</span>
   </div>
   <div id="projectbrief">Simple COVID-19 simulation model with ABC-smc inference</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceEERAModel.html">EERAModel</a></li><li class="navelem"><a class="el" href="namespaceEERAModel_1_1Observations.html">Observations</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">EERAModel::Observations Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Namespace holding objects and functions relating to observations.  
<a href="namespaceEERAModel_1_1Observations.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structEERAModel_1_1Observations_1_1ObsSelect.html">ObsSelect</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure to hold observation selections.  <a href="structEERAModel_1_1Observations_1_1ObsSelect.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structEERAModel_1_1Observations_1_1SimTime.html">SimTime</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure to hold deduced simulation time parameters.  <a href="structEERAModel_1_1Observations_1_1SimTime.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acca6dce1474539d2d2fc57ba8d85f60d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structEERAModel_1_1Observations_1_1SimTime.html">SimTime</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceEERAModel_1_1Observations.html#acca6dce1474539d2d2fc57ba8d85f60d">GetSimDuration</a> (int time_back, const std::vector&lt; int &gt; &amp;regionalCases)</td></tr>
<tr class="memdesc:acca6dce1474539d2d2fc57ba8d85f60d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the duration of the current simulation.  <a href="namespaceEERAModel_1_1Observations.html#acca6dce1474539d2d2fc57ba8d85f60d">More...</a><br /></td></tr>
<tr class="separator:acca6dce1474539d2d2fc57ba8d85f60d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14b88c53e393a8a717efa76cc215c1cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structEERAModel_1_1Observations_1_1ObsSelect.html">ObsSelect</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceEERAModel_1_1Observations.html#a14b88c53e393a8a717efa76cc215c1cc">SelectObservations</a> (int &amp;day_shut, const std::vector&lt; int &gt; &amp;timeStamps, const std::vector&lt; int &gt; &amp;regionalCases, const std::vector&lt; int &gt; &amp;regionalDeaths, int time_back, Utilities::logging_stream::Sptr log)</td></tr>
<tr class="memdesc:a14b88c53e393a8a717efa76cc215c1cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Select observations to use from the regional input observations.  <a href="namespaceEERAModel_1_1Observations.html#a14b88c53e393a8a717efa76cc215c1cc">More...</a><br /></td></tr>
<tr class="separator:a14b88c53e393a8a717efa76cc215c1cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a379814c9e577bb2948bc53d190ee01"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceEERAModel_1_1Observations.html#a6a379814c9e577bb2948bc53d190ee01">ComputeIncidence</a> (const std::vector&lt; int &gt; &amp;timeseries)</td></tr>
<tr class="memdesc:a6a379814c9e577bb2948bc53d190ee01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform the timeseries of cumulative cases into incidence.  <a href="namespaceEERAModel_1_1Observations.html#a6a379814c9e577bb2948bc53d190ee01">More...</a><br /></td></tr>
<tr class="separator:a6a379814c9e577bb2948bc53d190ee01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28a61513f67ffc22890cc2173ef5e760"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceEERAModel_1_1Observations.html#a28a61513f67ffc22890cc2173ef5e760">CorrectIncidence</a> (const std::vector&lt; int &gt; &amp;originalIncidence, std::vector&lt; int &gt; timeseries)</td></tr>
<tr class="memdesc:a28a61513f67ffc22890cc2173ef5e760"><td class="mdescLeft">&#160;</td><td class="mdescRight">Correct the timeseries to avoid negative incidence records.  <a href="namespaceEERAModel_1_1Observations.html#a28a61513f67ffc22890cc2173ef5e760">More...</a><br /></td></tr>
<tr class="separator:a28a61513f67ffc22890cc2173ef5e760"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Namespace holding objects and functions relating to observations. </p>
<p>This namespace contains structs and functions which handle the data read from data files, adjusting for different input structures. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a6a379814c9e577bb2948bc53d190ee01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a379814c9e577bb2948bc53d190ee01">&#9670;&nbsp;</a></span>ComputeIncidence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; int &gt; EERAModel::Observations::ComputeIncidence </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>timeseries</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transform the timeseries of cumulative cases into incidence. </p>
<p>A timeseries of cumulative cases represents the number of cases reported to exist at any given time in the timeseries. The incidence represents the change in the number of cases between two successive points in the timeseries. The incidence at any given point in the timeseries is computed as the difference between the cumulative number of cases at that point and the cumulative number of cases at the preceding point. The incidence at the first point in the time series is simply the cumulative number of cases at that first point.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeseries</td><td>Input timeseries of cumulative instances</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Computed incidence timeseries </dd></dl>

</div>
</div>
<a id="a28a61513f67ffc22890cc2173ef5e760"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28a61513f67ffc22890cc2173ef5e760">&#9670;&nbsp;</a></span>CorrectIncidence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; int &gt; EERAModel::Observations::CorrectIncidence </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>originalIncidence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt;&#160;</td>
          <td class="paramname"><em>timeseries</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Correct the timeseries to avoid negative incidence records. </p>
<p>Negative incidence records occur where the value of a timeseries decreases between two successive points in time</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Fill in with a detailed description of the algorithm</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">originalIncidence</td><td>Original computation of incidence, with potential negative records </td></tr>
    <tr><td class="paramname">timeseries</td><td>Timeseries of cases from which the original incidence was computed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Corrected incidence </dd></dl>

</div>
</div>
<a id="acca6dce1474539d2d2fc57ba8d85f60d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acca6dce1474539d2d2fc57ba8d85f60d">&#9670;&nbsp;</a></span>GetSimDuration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structEERAModel_1_1Observations_1_1SimTime.html">SimTime</a> EERAModel::Observations::GetSimDuration </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>time_back</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>regionalCases</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the duration of the current simulation. </p>
<p>Uses the regional cases data to deduce the time structure of the observations. As the time series data may have negative incident events the function first determines the non-negative start and end points. Accounting for this is vital in terms of future-proofing the inference.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time_back</td><td>offset in start time (relative to first non-negative event) </td></tr>
    <tr><td class="paramname">regional_cases</td><td>vector of time series data for a given region</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Struct containing the simulation time parameters </dd></dl>

</div>
</div>
<a id="a14b88c53e393a8a717efa76cc215c1cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14b88c53e393a8a717efa76cc215c1cc">&#9670;&nbsp;</a></span>SelectObservations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structEERAModel_1_1Observations_1_1ObsSelect.html">ObsSelect</a> EERAModel::Observations::SelectObservations </td>
          <td>(</td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>day_shut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>timeStamps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>regionalCases</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;&#160;</td>
          <td class="paramname"><em>regionalDeaths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>time_back</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Utilities::logging_stream::Sptr&#160;</td>
          <td class="paramname"><em>log</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Select observations to use from the regional input observations. </p>
<p>Bsaed on the regional cases and deaths timeseries, this function computes the incidence of cases and deaths, correcting for negative incidence records.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">day_shut</td><td>? </td></tr>
    <tr><td class="paramname">timeStamps</td><td>Reference times for other time series </td></tr>
    <tr><td class="paramname">regionalCases</td><td>Observed timeseries of cases in the region </td></tr>
    <tr><td class="paramname">regionalDeaths</td><td>Observed timeseries of deaths in the region </td></tr>
    <tr><td class="paramname">time_back</td><td>? </td></tr>
    <tr><td class="paramname">log</td><td>Logger handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Struct containing deduced observation selections </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
